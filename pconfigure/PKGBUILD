# This is an example PKGBUILD file. Use this as a start to creating your own,
# and remove these comments. For more information, see 'man PKGBUILD'.
# NOTE: Please fill out the license field for your package! If it is unknown,
# then please put 'unknown'.

# Maintainer: Your Name <youremail@domain.com>
pkgname=pconfigure
pkgver=0.8.0
pkgrel=1
pkgdesc="A Simple Autoconf/Automake Replacement"
arch=(i686 x86_64)
url="https://github.com/palmer-dabbelt/pconfigure"
license=('AGPL')
source=("https://github.com/palmer-dabbelt/$pkgname/archive/v${pkgver}.tar.gz")
md5sums=('631295199f1e9617577720bc0f362f43')

prepare() {
    cd "$srcdir/$pkgname-$pkgver"

    echo "PREFIX = /usr" > Configfile.local
    echo "LANGUAGES += c" >> Configfile.local
    echo "COMPILEOPTS += -DNDEBUG" >> Configfile.local
}

build() {
	cd "$srcdir/$pkgname-$pkgver"
        pconfigure || die "pconfigure failed"
        make D="$pkgdir"
}

package() {
	cd "$srcdir/$pkgname-$pkgver"
	make D="$pkgdir" install
}
